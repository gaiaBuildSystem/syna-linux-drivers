#
# USB Dual Role (OTG-ready) Controller Drivers
# for silicon based on Mentor Graphics INVENTRA designs
#

# (M)FDRC = (Multipoint) Highspeed Dual-Role Controller
config USB_MUSB_FDRC
	tristate 'Inventra Fullspeed Dual Role Controller (DSPG DVF99)'
	depends on USB
	select NOP_USB_XCEIV if (ARCH_DAVINCI || MACH_OMAP3EVM || BLACKFIN || ARCH_DVF)
	select TWL4030_USB if MACH_OMAP_3430SDP
	select TWL6030_USB if MACH_OMAP_4430SDP || MACH_OMAP4_PANDA
	select USB_OTG_UTILS
	select USB_GADGET_DUALSPEED
	help
	  Say Y here if your system has a dual role high speed USB
	  controller based on the Mentor Graphics silicon IP.  Then
	  configure options to match your silicon and the board
	  it's being used with, including the USB peripheral role,
	  or the USB host role, or both.

	  Texas Instruments familiies using this IP include DaVinci
	  (35x, 644x ...), OMAP 243x, OMAP 3, and TUSB 6010.

	  Analog Devices parts using this IP include Blackfin BF54x,
	  BF525 and BF527.

	  If you do not know what this is, please say N.

	  To compile this driver as a module, choose M here; the
	  module will be called "musb-fdrc".

if USB_MUSB_FDRC

choice
	prompt "Platform Glue Layer"

config USB_MUSB_DVF99
	bool "DVF99 to dvf99"
	depends on ARCH_DVF

endchoice

choice
	prompt 'MUSB DMA mode'
	default MUSB_FDRC_PIO_ONLY if USB_MUSB_DVF99
	help
	  Unfortunately, only one option can be enabled here. Ideally one
	  should be able to build all these drivers into one kernel to
	  allow using DMA on multiplatform kernels.

config USB_MUSB_FDRC_INVENTRA_DMA
	bool 'Inventra'
	depends on USB_MUSB_DVF99
	help
	  Enable DMA transfers using Mentor's engine.

config MUSB_FDRC_PIO_ONLY
	bool 'Disable DMA (always use PIO)'
	help
	  All data is copied between memory and FIFO by the CPU.
	  DMA controllers are ignored.

	  Do not choose this unless DMA support for your SOC or board
	  is unavailable (or unstable).  When DMA is enabled at compile time,
	  you can still disable it at run time using the "use_dma=n" module
	  parameter.

endchoice

endif # USB_MUSB_FDRC
